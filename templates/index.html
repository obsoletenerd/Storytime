{% extends "base.html" %} {% block title %}Home â€“ Bedtime Story{% endblock %} {% block content %}
<article>
    <form action="{{ url_for('start') }}" method="post">
        <label for="names">Names of the characters in this adventure?</label>
        <input type="text" id="names" name="names" placeholder="e.g. Lucy (7yr old girl), Rexxy (brown stuffed dog)" required />

        <label for="things">What are a few of your favourite things?</label>
        <input type="text" id="things" name="things" placeholder="e.g. Dinosaurs, Capybaras, Space" required />

        <label for="topic">What would you like this story to be about?</label>
        <input type="text" id="topic" name="topic" placeholder="e.g. An adventure to an alien planet" required />

        <label for="llm_provider">Choose your storyteller</label>
        <select id="llm_provider" name="llm_provider" required>
            {% for key, provider in available_providers.items() %}
            <option value="{{ key }}">{{ provider.display_name }}</option>
            {% endfor %}
        </select>

        <label for="generate_image">
            <input type="checkbox" id="generate_image" name="generate_image" />
            Generate a magical picture for the story ($)
        </label>

        <button type="submit">Generate story</button>
    </form>
</article>

<article>
    <h2>View Existing Stories</h2>
    <p>Here you can select existing stories that have already been generated and read them again, or create new chapters for them.</p>

    {% if available_stories %}
    <form action="{{ url_for('read') }}" method="post">
        <label for="story_selector">Select a Story</label>
        <select id="story_selector" name="story_selector" required>
            {% for key, story in available_stories.items() %}
            <option value="{{ key }}">{{ story.display_name }}</option>
            {% endfor %}
        </select>
        <button type="submit">Read Story</button>
    </form>
    {% else %}
    <p><em>No saved stories yet. Generate your first story above!</em></p>
    {% endif %}
</article>
{% endblock %}
